# 1. 베이스 이미지 (기초 공사)
# "Java 21이 이미 설치된 컴퓨터(Linux)를 가져와서 시작해라"
FROM eclipse-temurin:21-jdk

# 2. 작업 폴더 (방 지정)
# "이 컴퓨터 안에 'app'이라는 이름의 폴더를 만들고 거기서 작업해라"
WORKDIR /app

# 3. 파일 복사 (이사)
# "내 컴퓨터(윈도우)에 있는 파일들을 컨테이너 안(app 폴더)으로 다 복사해라"
COPY . .

# 4. 권한 부여 (열쇠 주기)
# "gradlew라는 실행 파일이 있는데, 이걸 실행할 수 있도록 허락해줘라" (이게 없으면 '권한 없음' 에러가 나!)
RUN chmod +x ./gradlew

# 5. 실행 명령 (스위치 켜기)
# "컨테이너가 켜지면 './gradlew bootRun' 명령어를 쳐서 서버를 실행해라"
# (bootRun은 코드를 수정하면 알아서 감지하는 개발용 실행 방식이야)
CMD ["./gradlew", "bootRun"]